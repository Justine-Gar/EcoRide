{% extends 'base.html.twig' %}

{% block title %}Accueil -
	{{ parent() }}
{% endblock %}

{% block stylesheets %}
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="{{asset('assets/css/pages/covoiturage/covoiturage.css') }}">
{% endblock %}

{% block body %}
  <main>

  <!--La rechercher-->
    <section class="search">
    
      <div class="container search-container">
        <!-- Barre de recherche -->
        <div class="search-bar">
            <div class="row g-0 d-flex align-items-center">
                <!-- Champ Départs -->
                <div class="col-md-3">
                    <div class="search-input">
                        <i class="fas fa-map-marker-alt"></i>
                        <input type="text" class="form-control" placeholder="Départs">
                    </div>
                </div>

                <!-- Champ Arrivée -->
                <div class="col-md-3">
                    <div class="search-input">
                        <i class="fas fa-location-arrow"></i>
                        <input type="text" class="form-control" placeholder="Arrivée">
                    </div>
                </div>

                <!-- Champ Date -->
                <div class="col-md-2">
                    <div class="search-input">
                        <i class="far fa-calendar"></i>
                        <input type="date" class="form-control" placeholder="Date">
                    </div>
                </div>

                <!-- Champ nombre de places-->
                <div class="col-md-2">
                  <div class="search-input">
                    <i class="fas fa-users"></i>
                    <input type="number" min="1" max="5" class="form-control" placeholder="Nombre de places">
                  </div>
                </div>

                <!-- Bouton Recherche -->
                <div class="col-md-2">
                    <button class="btn btn-search">RECHERCHE</button>
                </div>
            </div>
        </div>
        
        <!--Bouton de filtrage-->
        <div class="search-filter d-flex justify-content-end mt-3">

          <button class="btn btn-filter" data-bs-toggle="modal" data-bs-target="#filterModal">
            Filtrer
            <img src="../../../assets/images/icon/iconFiltre.svg" alt="">
          </button>
          
          <!--Modal filtrage-->
          <div class="modal fade" id="filterModal" tabindex="-1">
            <div class="modal-dialog">
              <div class="modal-content filter-menu">
                <div class="modal-body">
                  <h5 class="filter-title">Filtres de recherche</h5>
                  
                  <!-- Type de véhicule -->
                  <div class="filter-section">
                    <label>Type de véhicule :</label>
                    <div class="vehicle-options">
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="vehicleType" id="allVehicles" checked>
                        <label class="form-check-label" for="allVehicles">Tous les véhicules</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="vehicleType" id="essence">
                        <label class="form-check-label" for="essence">Essence</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="vehicleType" id="diesel">
                        <label class="form-check-label" for="diesel">Diesel</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="vehicleType" id="hybrid">
                        <label class="form-check-label" for="hybrid">Hybride</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="vehicleType" id="electric">
                        <label class="form-check-label" for="electric">Électrique</label>
                      </div>
                    </div>
                  </div>
          
                  <!-- Nombre de passagers -->
                  <div class="filter-section">
                    <label>Nombre de passager :</label>
                    <input type="number" class="form-control" min="1" max="5" value="1">
                    <small class="text-muted">Maximum 5 passagers par véhicules</small>
                  </div>
          
                  <!-- Crédits maximum -->
                  <div class="filter-section">
                    <label>Crédits maximum : <span>20 crédits</span></label>
                    <input type="range" class="form-range" min="0" max="50" value="20">
                  </div>
          
                  <!-- Durée maximum -->
                  <div class="filter-section">
                    <label>Durée maximum : <span>4h20min</span></label>
                    <input type="range" class="form-range" min="0" max="720" value="260">
                  </div>
          
                  <!-- Note maximale du conducteur -->
                  <div class="filter-section">
                    <label>Note maximal du conducteur :</label>
                    <input type="number" class="form-control" min="0" max="5" value="5">
                  </div>
          
                  <!-- Bouton Filtrer -->
                  <div class="text-center mt-4">
                    <button class="btn-filter-apply">FILTRER</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
        </div>

      </div>

    </section>

  <!--Le résultat de la recherche-->
    <section class=" container card-result">
      <div class="card-search d-flex flex-wrap justify-content-center">

      <!--Apparission des card-covoit pour la recherche-->
        <div class="card-covoit">
          <div class="card">
            <div class="card-body">
            <!--Tete avec nom et image profil-->
              <div class="card-header custom-header d-flex justify-content-between align-items-start">
                <div>
                  <div class="nom-pseudo">
                    <span>Nom / pseudo</span>
                  </div>
                  <div class="role-note d-flex align-items-center gap-2">
                    <span>Rôle : passager</span>
                    <span>5,0</span>
                    <span class="etoile">★</span>
                  </div>
                </div>
                
                <div class="avatar">
                  <img src="../files/istockphoto-1495088043-612x612.jpg" alt="Avatar">
                </div>
              </div>
    
            <!--Section principal avec les horaire et places-->
              <div class="trajet-info d-flex justify-content-between align-items-center">
                <div class="calcul-horaires">
                  <span>teste</span>
                </div>
                <div class="horaires d-flex flex-column">
                  <div class="timeline-container d-flex flex-column justify-content-between">
                    <!-- Point et horaire de départ -->
                    <div class="time-point">
                      <div class="point point-depart"></div>
                      <span class="horaire">13H30</span>
                    </div>
                    
                    <!-- Ligne verticale -->
                    <div class="timeline-line"></div>
                    
                    <!-- Point et horaire d'arrivée -->
                    <div class="time-point">
                      <div class="point point-arrivee"></div>
                      <span class="horaire">18H50</span>
                    </div>
                  </div>
                </div>
                <div class="places-info">
                  <p>Places disponibles : 3</p>
                  <p>Voyage écologique : oui</p>
                </div>
              </div>
    
            <!--Pied de la carte-->
              <div class="card-footer custom-footer d-flex justify-content-between align-items-center">
                <span>0 crédits</span>
                <button type="button" class="btn-details btn toggleDetailButton">+ Détails</button>
              </div>
  
            <!--Détails-->
              <div class="detail-section detailsContent">
                <div class="détail-conducteur border-top">
                  <div class="detail-voiture border-bottom p-2">
                    <h6>Votre conducteur roule en :</h6>
                    <p>NOM de la voiture</p>
                  </div>
                  <div class="detail-preferences border-bottom p-2">
                    <h6>Préférences du conducteur</h6>
                    <ul>
                      <li>Exemple1</li>
                      <li>Exemple2</li>
                    </ul>
                  </div>
                  <div class="detail-avis border-bottom p-2">
                    <h6>Avis sur le conducteur :</h6>
                    <div>
                      <div class="border-bottom pt-3 pb-3">
                        <div>
                          <span>nom/prenom</span>
                          <span>note</span>
                          <span class="etoile">★</span>
                        </div>
                        <div>
                          <p>Commentaire</p>
                        </div>
                      </div>
                      <div class="pt-3 pb-3">
                        <div>
                          <span>nom/prenom</span>
                          <span>note</span>
                          <span class="etoile">★</span>
                        </div>
                        <div>
                          <p>Commentaire</p>
                        </div>
                      </div>
                    </div>
                  </div>
  
                  <div class="detail-participer d-flex justify-content-between align-items-center p-2">
                    <span>0 crédits</span>
                    <button class="btn-participer btn">Participer</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="card-covoit">
          <div class="card">
            <div class="card-body">
            <!--Tete avec nom et image profil-->
              <div class="card-header custom-header d-flex justify-content-between align-items-start">
                <div>
                  <div class="nom-pseudo">
                    <span>Nom / pseudo</span>
                  </div>
                  <div class="role-note d-flex align-items-center gap-2">
                    <span>Rôle : passager</span>
                    <span>5,0</span>
                    <span class="etoile">★</span>
                  </div>
                </div>
                
                <div class="avatar">
                  <img src="../files/istockphoto-1495088043-612x612.jpg" alt="Avatar">
                </div>
              </div>
    
            <!--Section principal avec les horaire et places-->
              <div class="trajet-info d-flex justify-content-between align-items-center">
                <div class="calcul-horaires">
                  <span>teste</span>
                </div>
                <div class="horaires d-flex flex-column">
                  <div class="timeline-container d-flex flex-column justify-content-between">
                    <!-- Point et horaire de départ -->
                    <div class="time-point">
                      <div class="point point-depart"></div>
                      <span class="horaire">13H30</span>
                    </div>
                    
                    <!-- Ligne verticale -->
                    <div class="timeline-line"></div>
                    
                    <!-- Point et horaire d'arrivée -->
                    <div class="time-point">
                      <div class="point point-arrivee"></div>
                      <span class="horaire">18H50</span>
                    </div>
                  </div>
                </div>
                <div class="places-info">
                  <p>Places disponibles : 3</p>
                  <p>Voyage écologique : oui</p>
                </div>
              </div>
    
            <!--Pied de la carte-->
              <div class="card-footer custom-footer d-flex justify-content-between align-items-center">
                <span>0 crédits</span>
                <button type="button" class="btn-details btn toggleDetailButton">+ Détails</button>
              </div>
  
            <!--Détails-->
              <div class="detail-section detailsContent">
                <div class="détail-conducteur border-top">
                  <div class="detail-voiture border-bottom p-2">
                    <h6>Votre conducteur roule en :</h6>
                    <p>NOM de la voiture</p>
                  </div>
                  <div class="detail-preferences border-bottom p-2">
                    <h6>Préférences du conducteur</h6>
                    <ul>
                      <li>Exemple1</li>
                      <li>Exemple2</li>
                    </ul>
                  </div>
                  <div class="detail-avis border-bottom p-2">
                    <h6>Avis sur le conducteur :</h6>
                    <div>
                      <div class="border-bottom pt-3 pb-3">
                        <div>
                          <span>nom/prenom</span>
                          <span>note</span>
                          <span class="etoile">★</span>
                        </div>
                        <div>
                          <p>Commentaire</p>
                        </div>
                      </div>
                      <div class="pt-3 pb-3">
                        <div>
                          <span>nom/prenom</span>
                          <span>note</span>
                          <span class="etoile">★</span>
                        </div>
                        <div>
                          <p>Commentaire</p>
                        </div>
                      </div>
                    </div>
                  </div>
  
                  <div class="detail-participer d-flex justify-content-between align-items-center p-2">
                    <span>0 crédits</span>
                    <button class="btn-participer btn">Participer</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
      
    </section>

  </main>

{% endblock %}

{% block javascripts %}
  <script src="{{ asset('assets/js/btnDetail.js') }}"></script>
{% endblock %}
